@using Sitecore.Mvc
@using Sitecore.Data.Items;
@using Sitecore.Mvc.Presentation
@using Sitecore.Data.Fields
@using BeerSorter.Foundation.Core.Extentions
@using BeerSorter.Feature.Review
@model Sitecore.Mvc.Presentation.RenderingModel


<div class="commentSection">
    <h1 style="text-align:center">Comments</h1>
    @{

        foreach (Item reviewfolder in Sitecore.Context.Item.Children)
        {
            foreach (Item review in reviewfolder.Children)
            {
                if (review != null)
                {
                    Sitecore.Data.Fields.DateField dateTimeField = review.Fields[Templates.Review.Fields.DateAdded];
                    <div class="commentBox">
                        <h3>@Html.Sitecore().Field(review.Fields[Templates.Review.Fields.UsernameFieldID].Name, review)</h3>
                        @*<h4>@Html.Sitecore().Field(comment.Fields[Templates.Comment.Fields.EmailFieldID].Name, comment)</h4>*@
                        <p>@Html.Sitecore().Field(review.Fields[Templates.Review.Fields.CommentFieldID].Name, review)</p>
                        <p>@dateTimeField.DateTime.ToString("yyyy/MM/dd HH:mm:ss")</p>
                        <br />
                    </div>
                }
                else
                {
                    <h1>There are no new comments!</h1>
                }



            }
        }
    }

</div>


<style type="text/css">
    .commentSection {
        border: 3px solid black;
        border-radius: 10px;
        background-color: #f2f2f2;
    }
</style>

